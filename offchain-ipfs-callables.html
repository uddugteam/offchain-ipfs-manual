<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Callables reference - The offchain::ipfs Manual</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="getting-started.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="using-the-docker-image.html"><strong aria-hidden="true">2.1.</strong> Using the Docker image</a></li><li class="chapter-item expanded "><a href="previewing-functionality.html"><strong aria-hidden="true">2.2.</strong> Previewing the functionality with a nice UI</a></li></ol></li><li class="chapter-item expanded "><a href="building-an-offchain-ipfs-app.html"><strong aria-hidden="true">3.</strong> Building an offchain::ipfs app</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="template-pallet.html"><strong aria-hidden="true">3.1.</strong> Example Pallet</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="offchain-ipfs-callables.html" class="active"><strong aria-hidden="true">3.1.1.</strong> Callables reference</a></li></ol></li><li class="chapter-item expanded "><a href="offchain-ipfs-javascript.html"><strong aria-hidden="true">3.2.</strong> JavaScript clients</a></li></ol></li><li class="chapter-item expanded "><a href="offchain-ipfs-architecture.html"><strong aria-hidden="true">4.</strong> Architectural Explanation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="building-offchain-ipfs-source.html"><strong aria-hidden="true">4.1.</strong> Building from Source</a></li><li class="chapter-item expanded "><a href="substrate-core-modifications.html"><strong aria-hidden="true">4.2.</strong> Substrate Core Modifications</a></li></ol></li><li class="chapter-item expanded "><a href="contributing-development.html"><strong aria-hidden="true">5.</strong> Contributing / Development</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The offchain::ipfs Manual</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="example-pallet-callable-reference"><a class="header" href="#example-pallet-callable-reference">Example pallet callable reference</a></h1>
<p>The following callable functions are exposed via JSON-RPC by the example pallet.
These specific functions were chosen due to popularity, to give you a familiar experience.</p>
<p>These functions are not the only ones available in the native runtime, and therefore
do not represent the full extent of functionality available to you.</p>
<p>Regardless, we still detail the example template functions here as a helpful reference. If you have
feedback about these existing functions, or would like to request new functions, please open an issue
at <a href="https://github.com/uddugteam/substrate">rs-ipfs/substrate</a>.</p>
<h2 id="callables"><a class="header" href="#callables">Callables</a></h2>
<p>What follows is a list of callables, their frequency in terms of block creation, their weights,
their arguments and return values. As explained in the section on the example pallet,
weights are essentially picosecond representations of a time limit for a given transaction,
and can be loosely correlated to transaction fees.</p>
<blockquote>
<p><strong>Rust's <code>snake_case</code> is used here.</strong> However, as you'll see in the upcoming polkadot.js example,
JavaScript will use <code>camelCase</code> for function and variable names. Generally, the exposed JSON-RPC
functions will adhere to the conventions of the programming language that the client code is
written in.</p>
</blockquote>
<p>Also, the weights here and block frequencies here are chosen rather arbitrarily without tokenomics
in mind. You will probably need to tune these values in your own custom pallet.</p>
<p>Finally, while we list &quot;return&quot; values for simplicity's sake, the template pallet does not actually
return any values from the RPC calls. What this really means in the context of Substrate is that the
values will be <em>eventually</em> emitted returned in the runtime logs, which you'll need to monitor.</p>
<h3 id="ipfs_add_bytes"><a class="header" href="#ipfs_add_bytes"><code>ipfs_add_bytes</code></a></h3>
<p>Adds the given bytes to the IPFS repository.</p>
<p><strong>Frequency:</strong> Every other block<br />
<strong>Weight</strong>: 200,000<br /></p>
<h4 id="arguments"><a class="header" href="#arguments">Arguments</a></h4>
<ul>
<li><code>bytes</code> - The bytes that you want to add to IPFS, e.g. <code>vec![1, 2, 3, 4]</code> or <code>b&quot;1234&quot;</code></li>
</ul>
<h4 id="returns"><a class="header" href="#returns">Returns</a></h4>
<p>A Content ID (CID) string, e.g. <code>QmU1f6ngsoHvwtViihzLQPXCA8j3sagmvY9GJJDY7Ao7Aa</code></p>
<h3 id="ipfs_cat_bytes"><a class="header" href="#ipfs_cat_bytes"><code>ipfs_cat_bytes</code></a></h3>
<p>Displays the bytes behind a given CID.</p>
<p><strong>Frequency:</strong> Every other block<br />
<strong>Weight</strong>: 100,000</p>
<h4 id="arguments-1"><a class="header" href="#arguments-1">Arguments</a></h4>
<ul>
<li><code>cid</code>: The CID of your desired content, e.g. <code>QmY7Yh4UquoXHLPFo2XbhXkhBvFoPwmQUSa92pxnxjQuPU</code></li>
</ul>
<h4 id="returns-1"><a class="header" href="#returns-1">Returns</a></h4>
<p>The requested bytes - UTF-8 as a string, non-UTF-8 as hexidecimal string</p>
<h3 id="ipfs_connect"><a class="header" href="#ipfs_connect"><code>ipfs_connect</code></a></h3>
<p>Connects the embedded node to the given Multiaddr.</p>
<p><strong>Frequency:</strong> Every block<br />
<strong>Weight</strong>: 100,000</p>
<h4 id="arguments-2"><a class="header" href="#arguments-2">Arguments</a></h4>
<ul>
<li><code>multiaddr</code>: A valid multiaddress with peer ID a the end, e.g. <code>/ip4/104.131.131.82/tcp/4001/p2p/QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ</code></li>
</ul>
<h4 id="returns-2"><a class="header" href="#returns-2">Returns</a></h4>
<p>Nothing, or an error.</p>
<h3 id="ipfs_disconnect"><a class="header" href="#ipfs_disconnect"><code>ipfs_disconnect</code></a></h3>
<p>Disconnects from the given Multiaddr.</p>
<p><strong>Frequency:</strong> Every block<br />
<strong>Weight</strong>: 500,000</p>
<h4 id="arguments-3"><a class="header" href="#arguments-3">Arguments</a></h4>
<ul>
<li><code>multiaddr</code>: A valid multiaddress with peer ID a the end, e.g. <code>/ip4/104.131.131.82/tcp/4001/p2p/QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ</code></li>
</ul>
<h4 id="returns-3"><a class="header" href="#returns-3">Returns</a></h4>
<p>Nothing, or an error.</p>
<h3 id="ipfs_dht_findpeer"><a class="header" href="#ipfs_dht_findpeer"><code>ipfs_dht_findpeer</code></a></h3>
<p>Performs a search for the addresses associated with the provided PeerId.</p>
<p><strong>Frequency:</strong> Every block<br />
<strong>Weight</strong>: 100,000</p>
<h4 id="arguments-4"><a class="header" href="#arguments-4">Arguments</a></h4>
<ul>
<li><code>peerID</code>: A <code>PeerId</code> hash, e.g. <code>QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ</code></li>
</ul>
<h4 id="returns-4"><a class="header" href="#returns-4">Returns</a></h4>
<p>A multiaddr, such as <code>/ip4/104.131.131.82/tcp/4001</code>.</p>
<h3 id="ipfs_dht_findproviders"><a class="header" href="#ipfs_dht_findproviders"><code>ipfs_dht_findproviders</code></a></h3>
<p>Search for PeerIds known to be providing the given Cid. You must be connected to at least one peer.</p>
<p><strong>Frequency:</strong> Every block<br />
<strong>Weight</strong>: 100,000</p>
<h4 id="arguments-5"><a class="header" href="#arguments-5">Arguments</a></h4>
<ul>
<li><code>cid</code>: The CID of your desired content, e.g. <code>QmY7Yh4UquoXHLPFo2XbhXkhBvFoPwmQUSa92pxnxjQuPU</code></li>
</ul>
<h4 id="returns-5"><a class="header" href="#returns-5">Returns</a></h4>
<ul>
<li><code>peerID</code>: An array <code>PeerId</code> string, e.g. <code>[QmaCpDMGvV2BGHeYERUEnRQAwe3N8SzbUtfsmvsqQLuvuJ]</code></li>
</ul>
<h3 id="ipfs_insert_pin"><a class="header" href="#ipfs_insert_pin"><code>ipfs_insert_pin</code></a></h3>
<p>Non-recursively pins a block with the specified Cid, protecting it from removal.</p>
<p><strong>Frequency:</strong> Every other block<br />
<strong>Weight</strong>: 100,000</p>
<h4 id="arguments-6"><a class="header" href="#arguments-6">Arguments</a></h4>
<ul>
<li><code>cid</code>: The CID of the data you want to pin, e.g. <code>QmU1f6ngsoHvwtViihzLQPXCA8j3sagmvY9GJJDY7Ao7Aa</code></li>
</ul>
<h4 id="returns-6"><a class="header" href="#returns-6">Returns</a></h4>
<p>Nothing, or an error.</p>
<h3 id="ipfs_remove_pin"><a class="header" href="#ipfs_remove_pin"><code>ipfs_remove_pin</code></a></h3>
<p>Removes a pin from a block, so that it is no longer persistent and can be removed.</p>
<p><strong>Frequency:</strong> Every other block<br />
<strong>Weight</strong>: 100,000</p>
<h4 id="arguments-7"><a class="header" href="#arguments-7">Arguments</a></h4>
<ul>
<li><code>cid</code>: The CID of the data you want to unpin, e.g. <code>QmU1f6ngsoHvwtViihzLQPXCA8j3sagmvY9GJJDY7Ao7Aa</code></li>
</ul>
<h4 id="returns-7"><a class="header" href="#returns-7">Returns</a></h4>
<h3 id="ipfs_remove_block"><a class="header" href="#ipfs_remove_block"><code>ipfs_remove_block</code></a></h3>
<p>Removes a block from the node’s repository.</p>
<p><strong>Frequency:</strong> Every other block<br />
<strong>Weight</strong>: 300,000</p>
<h4 id="arguments-8"><a class="header" href="#arguments-8">Arguments</a></h4>
<ul>
<li><code>cid</code>: The CID of the block you want to remove, e.g. <code>QmU1f6ngsoHvwtViihzLQPXCA8j3sagmvY9GJJDY7Ao7Aa</code></li>
</ul>
<h4 id="returns-8"><a class="header" href="#returns-8">Returns</a></h4>
<p>Nothing, or an error.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="template-pallet.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="offchain-ipfs-javascript.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="template-pallet.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="offchain-ipfs-javascript.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
